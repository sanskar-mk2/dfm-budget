import{u as M,r as G,c as S,_ as B,a as p,g as y,b as f,e,p as N,t as d,F as U,h as W,d as F,w as O,i as z,A as $,y as V,o as H,f as I}from"./index-5HnzLnCl.js";import{L as Y}from"./LoadingError-CcIY0GoQ.js";function J(){const b=M(),n=G(!1),c=G(null),t=G([]),_=S(()=>{if(!t.value.length)return[];const s={};return t.value.forEach(o=>{const r=`${o.salesperson_id}-${o.customer_class}-${o.group_key}`;s[r]||(s[r]={salesperson_id:o.salesperson_id,salesperson_name:o.salesperson_name,customer_class:o.customer_class,group_key:o.group_key,brand:o.brand,display_key:o.customer_class==="Hospitality"&&o.brand?`${o.group_key} (${o.brand})`:o.group_key,divisions:[],totalRatio:0,hasCustomRatios:!1});const h={item_division:o.item_division,division_name:o.division_name,effective_ratio:o.effective_ratio,is_custom:o.is_custom,q1_allocated:o.q1_allocated,q2_allocated:o.q2_allocated,q3_allocated:o.q3_allocated,q4_allocated:o.q4_allocated,total_allocated:o.total_allocated,division_ratio_2025:o.division_ratio_2025,total_2025_sales:o.total_2025_sales,locked:!1};s[r].divisions.push(h),s[r].totalRatio+=h.effective_ratio,h.is_custom&&(s[r].hasCustomRatios=!0)}),Object.values(s).forEach(o=>{o.divisions.sort((r,h)=>r.item_division-h.item_division)}),Object.values(s)}),u=async()=>{n.value=!0,c.value=null;try{const s=await b.apiCall("/api/division/allocations");if(s.ok){const o=await s.json();t.value=o.data||[]}else{const o=await s.json();console.error("Error fetching division data:",o),c.value=o.detail||"Failed to fetch division data"}}catch(s){console.error("Exception fetching division data:",s),c.value="Network error occurred"}finally{n.value=!1}},a=async(s,o,r)=>{const h=await b.apiCall(`/api/division/allocations/${s}/${encodeURIComponent(o)}/${encodeURIComponent(r)}`);if(!h.ok)throw new Error("Failed to fetch group");return(await h.json()).data||[]},k=async(s,o)=>{try{const r=_.value.find(g=>g.group_key===s);if(!r)throw new Error("Group not found");const h=o.filter(g=>g.is_custom||g.effective_ratio!==g.division_ratio_2025).map(g=>({salesperson_id:r.salesperson_id,salesperson_name:r.salesperson_name,customer_class:r.customer_class,group_key:r.group_key,item_division:g.item_division,custom_ratio:g.effective_ratio}));if(h.length===0)return console.log("No changes to save"),{success:!0,message:"No changes to save"};const A=await b.apiCall("/api/division/save-ratios",{method:"POST",body:JSON.stringify({overrides:h})});if(A.ok){const g=await A.json(),C=await a(r.salesperson_id,r.customer_class,r.group_key),l=[...t.value];if(l.filter(v=>v.group_key===r.group_key&&v.salesperson_id===r.salesperson_id).length>0){const v=l.findIndex(q=>q.group_key===r.group_key&&q.salesperson_id===r.salesperson_id),D=l.filter(q=>!(q.group_key===r.group_key&&q.salesperson_id===r.salesperson_id));D.splice(v,0,...C),t.value=D}else t.value=[...t.value.filter(v=>!(v.group_key===r.group_key&&v.salesperson_id===r.salesperson_id)),...C];return g}else{const g=await A.json();throw console.error("Error saving ratios:",g),new Error(g.detail||"Failed to save ratios")}}catch(r){throw console.error("Exception saving ratios:",r),r}},x=async(s,o,r)=>{try{const h=await b.apiCall(`/api/division/reset-group/${s}/${encodeURIComponent(o)}/${encodeURIComponent(r)}`,{method:"DELETE"});if(h.ok){const A=await h.json(),g=await a(s,o,r),C=[...t.value];if(C.filter(m=>m.group_key===r&&m.salesperson_id===s).length>0){const m=C.findIndex(D=>D.group_key===r&&D.salesperson_id===s),v=C.filter(D=>!(D.group_key===r&&D.salesperson_id===s));v.splice(m,0,...g),t.value=v}else t.value=[...t.value.filter(m=>!(m.group_key===r&&m.salesperson_id===s)),...g];return A}else{const A=await h.json();throw new Error(A.detail||"Failed to reset group overrides")}}catch(h){throw console.error("Exception resetting group overrides:",h),h}};return{loading:n,error:c,divisionData:t,groupedData:_,fetchDivisionData:u,saveRatios:k,resetGroupOverrides:x,resetAllOverrides:async()=>{try{const s=_.value.filter(o=>o.hasCustomRatios).map(o=>x(o.salesperson_id,o.customer_class,o.group_key));return s.length===0?{success:!0,message:"No overrides to reset"}:(await Promise.all(s),{success:!0,message:`Reset overrides for ${s.length} groups`})}catch(s){throw console.error("Exception resetting all overrides:",s),s}}}}const Z={__name:"DivisionSlider",props:{ratio:{type:Number,required:!0},locked:{type:Boolean,default:!1},divisionName:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["ratio-change","lock-toggle"],setup(b,{expose:n,emit:c}){n();const t=b,_=c,u=S(()=>(t.ratio*100).toFixed(1)),x={props:t,emit:_,percentage:u,handleSliderChange:T=>{if(!t.locked&&!t.disabled){const s=parseFloat(T.target.value);_("ratio-change",s)}},toggleLock:()=>{t.disabled||_("lock-toggle")},computed:S};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}},K={class:"flex items-center gap-2"},tt=["disabled","title"],et={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ot={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},st={class:"flex-1"},at=["value","disabled"],rt={class:"text-sm font-mono min-w-[4rem] text-right"};function nt(b,n,c,t,_,u){return y(),p("div",K,[f(" Lock Toggle Button "),e("button",{onClick:t.toggleLock,disabled:c.disabled,class:N(["btn btn-sm btn-ghost",c.locked?"btn-primary":"btn-outline",c.disabled?"btn-disabled":""]),title:c.locked?"Unlock to edit":"Lock to prevent changes"},[c.locked?(y(),p("svg",et,[...n[0]||(n[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])])):(y(),p("svg",ot,[...n[1]||(n[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"},null,-1)])]))],10,tt),f(" Slider "),e("div",st,[e("input",{type:"range",min:0,max:1,step:.001,value:c.ratio,disabled:c.locked||c.disabled,onInput:t.handleSliderChange,class:N(["range range-primary range-sm w-full",{"opacity-50":c.locked||c.disabled}])},null,42,at)]),f(" Percentage Display "),e("div",rt,[e("span",{class:N(["badge badge-sm",c.locked?"badge-primary":"badge-outline"])},d(t.percentage)+"% ",3)])])}const lt=B(Z,[["render",nt],["__file","G:/ProjectsPARA/Projects/budget-2026/frontend/src/components/DivisionSlider.vue"]]),it={__name:"DivisionTable",props:{divisions:{type:Array,required:!0},readonly:{type:Boolean,default:!1}},emits:["ratio-change","lock-toggle"],setup(b,{expose:n,emit:c}){n();const t=b,_=c,u=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s),a=(s,o)=>{_("ratio-change",s,o)},k=s=>{_("lock-toggle",s)},x=S(()=>!t.divisions||t.divisions.length===0?{totalRatio:0,totalActualSales:0,totalQ1:0,totalQ2:0,totalQ3:0,totalQ4:0,totalAllocated:0}:t.divisions.reduce((s,o)=>(s.totalRatio+=o.effective_ratio||0,s.totalActualSales+=o.total_2025_sales||0,s.totalQ1+=o.q1_allocated||0,s.totalQ2+=o.q2_allocated||0,s.totalQ3+=o.q3_allocated||0,s.totalQ4+=o.q4_allocated||0,s.totalAllocated+=o.total_allocated||0,s),{totalRatio:0,totalActualSales:0,totalQ1:0,totalQ2:0,totalQ3:0,totalQ4:0,totalAllocated:0})),T={props:t,emit:_,formatCurrency:u,handleRatioChange:a,handleLockToggle:k,totals:x,ref:G,computed:S,DivisionSlider:lt};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}},ct={class:"overflow-x-auto"},dt={class:"table table-zebra w-full"},ut={class:"text-sm opacity-60"},_t={class:"flex flex-col"},ht={class:"font-medium"},gt={key:0,class:"text-xs badge badge-primary badge-sm"},mt={class:"text-right font-mono text-sm"},vt={class:"text-right font-mono text-sm"},ft={class:"text-right font-mono text-sm"},pt={class:"text-right font-mono text-sm"},yt={class:"text-right font-mono text-sm"},kt={class:"text-right font-mono font-semibold"},bt={class:"bg-base-200 font-bold"},xt={class:"text-right"},wt={class:"text-lg"},Rt={class:"text-right"},Ct={class:"text-lg"},Dt={class:"text-right"},St={class:"text-lg"},At={class:"text-right"},qt={class:"text-lg"},jt={class:"text-right"},Tt={class:"text-lg"},Et={class:"text-right"},Gt={class:"text-lg"},Qt={class:"text-right"},Lt={class:"text-lg"};function Pt(b,n,c,t,_,u){return y(),p("div",ct,[e("table",dt,[n[1]||(n[1]=e("thead",null,[e("tr",null,[e("th",{class:"w-8"},"#"),e("th",null,"Division"),e("th",{class:"w-80"},"Effective Ratio"),e("th",{class:"text-right"},"2025 Sales"),e("th",{class:"text-right"},"Q1"),e("th",{class:"text-right"},"Q2"),e("th",{class:"text-right"},"Q3"),e("th",{class:"text-right"},"Q4"),e("th",{class:"text-right"},"Total")])],-1)),e("tbody",null,[(y(!0),p(U,null,W(c.divisions,(a,k)=>(y(),p("tr",{key:a.item_division},[e("td",ut,d(a.item_division),1),e("td",null,[e("div",_t,[e("span",ht,d(a.division_name),1),a.is_custom?(y(),p("span",gt," Custom ")):f("v-if",!0)])]),e("td",null,[F(t.DivisionSlider,{ratio:a.effective_ratio,locked:a.locked,"division-name":a.division_name,disabled:c.readonly,onRatioChange:x=>t.handleRatioChange(k,x),onLockToggle:()=>t.handleLockToggle(k)},null,8,["ratio","locked","division-name","disabled","onRatioChange","onLockToggle"])]),e("td",mt,d(t.formatCurrency(a.total_2025_sales)),1),e("td",vt,d(t.formatCurrency(a.q1_allocated)),1),e("td",ft,d(t.formatCurrency(a.q2_allocated)),1),e("td",pt,d(t.formatCurrency(a.q3_allocated)),1),e("td",yt,d(t.formatCurrency(a.q4_allocated)),1),e("td",kt,d(t.formatCurrency(a.total_allocated)),1)]))),128))]),e("tfoot",null,[e("tr",bt,[n[0]||(n[0]=e("td",{colspan:"2",class:"text-right"},[e("span",{class:"text-lg"},"Total")],-1)),e("td",xt,[e("span",wt,d((t.totals.totalRatio*100).toFixed(2))+"%",1)]),e("td",Rt,[e("span",Ct,d(t.formatCurrency(t.totals.totalActualSales)),1)]),e("td",Dt,[e("span",St,d(t.formatCurrency(t.totals.totalQ1)),1)]),e("td",At,[e("span",qt,d(t.formatCurrency(t.totals.totalQ2)),1)]),e("td",jt,[e("span",Tt,d(t.formatCurrency(t.totals.totalQ3)),1)]),e("td",Et,[e("span",Gt,d(t.formatCurrency(t.totals.totalQ4)),1)]),e("td",Qt,[e("span",Lt,d(t.formatCurrency(t.totals.totalAllocated)),1)])])])])])}const Ft=B(it,[["render",Pt],["__file","G:/ProjectsPARA/Projects/budget-2026/frontend/src/components/DivisionTable.vue"]]),Ot={__name:"DivisionGroupCard",props:{group:{type:Object,required:!0}},emits:["save-ratios","reset-group","collapse"],setup(b,{expose:n,emit:c}){n();const t=b,_=c,u=G([]);O(()=>t.group,l=>{l&&l.divisions&&(u.value=l.divisions.map(m=>({...m})))},{immediate:!0});const a=S(()=>u.value.reduce((l,m)=>l+m.effective_ratio,0)),k=S(()=>`${t.group.customer_class} > ${t.group.salesperson_name} > ${t.group.display_key}`),x=S(()=>{const l=a.value;return Math.abs(l-1)<.001?{status:"perfect",icon:"✅",class:"text-success"}:l>1?{status:"over",icon:"⚠️",class:"text-warning"}:{status:"under",icon:"⚠️",class:"text-warning"}}),T=S(()=>u.value.some(l=>l.effective_ratio!==l.division_ratio_2025||l.is_custom)),s=(l,m)=>{const v=u.value.map((w,E)=>({...w,index:E})).filter(w=>!w.locked);if(v.length<=1){u.value[l].effective_ratio=1;return}const q=1-u.value.filter(w=>w.locked).reduce((w,E)=>w+E.effective_ratio,0),Q=Math.min(m,q);u.value[l].effective_ratio=Q;const L=v.filter(w=>w.index!==l),P=L.reduce((w,E)=>w+E.effective_ratio,0);if(P>0){const E=(q-Q)/P;L.forEach(i=>{u.value[i.index].effective_ratio=i.effective_ratio*E})}},C={props:t,emit:_,localDivisions:u,totalRatio:a,groupLabel:k,ratioStatus:x,hasChanges:T,normalizeRatios:s,handleRatioChange:(l,m)=>{s(l,m)},handleLockToggle:l=>{u.value[l].locked=!u.value[l].locked},handleSave:async()=>{try{await _("save-ratios",t.group.group_key,u.value)}catch(l){console.error("Error saving ratios:",l)}},handleReset:async()=>{try{await _("reset-group",t.group.salesperson_id,t.group.customer_class,t.group.group_key)}catch(l){console.error("Error resetting group:",l)}},handleCollapse:()=>{_("collapse")},ref:G,computed:S,watch:O,DivisionTable:Ft};return Object.defineProperty(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}},Bt={class:"card bg-base-100 shadow-xl border border-base-300"},Nt={class:"card-body"},Mt={class:"flex items-center justify-between mb-4"},Ut={class:"card-title text-lg"},zt={class:"flex items-center gap-2"},$t=["disabled"],Vt=["disabled"],Ht={key:0,class:"alert alert-warning mt-2"},It={key:0},Jt={key:1};function Wt(b,n,c,t,_,u){return y(),p("div",Bt,[e("div",Nt,[f(" Group Header "),e("div",Mt,[e("h3",Ut,d(t.groupLabel),1),e("div",zt,[e("button",{onClick:t.handleReset,class:"btn btn-ghost btn-sm",disabled:!t.hasChanges}," Reset ",8,$t),e("button",{onClick:t.handleSave,class:"btn btn-primary btn-sm",disabled:!t.hasChanges||t.ratioStatus.status!=="perfect"}," Save Changes ",8,Vt)])]),f(" Division Table "),F(t.DivisionTable,{divisions:t.localDivisions,readonly:!1,onRatioChange:t.handleRatioChange,onLockToggle:t.handleLockToggle},null,8,["divisions"]),f(" Status Messages "),t.ratioStatus.status!=="perfect"?(y(),p("div",Ht,[n[0]||(n[0]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),e("span",null,[t.ratioStatus.status==="over"?(y(),p("span",It," Total ratio exceeds 100%. Adjust sliders to balance the ratios. ")):(y(),p("span",Jt," Total ratio is under 100%. Adjust sliders to reach 100%. "))])])):f("v-if",!0)])])}const Xt=B(Ot,[["render",Wt],["__file","G:/ProjectsPARA/Projects/budget-2026/frontend/src/components/DivisionGroupCard.vue"]]),Yt={__name:"DivisionView",setup(b,{expose:n}){n();const c=z("navActions"),{loading:t,error:_,groupedData:u,fetchDivisionData:a,saveRatios:k,resetGroupOverrides:x,resetAllOverrides:T}=J(),s=M(),{adminStatus:o,superadminStatus:r}=$(s),h=async(i,R)=>{try{await k(i,R)}catch(j){console.error("Error saving ratios:",j)}},A=async(i,R,j)=>{try{await x(i,R,j)}catch(X){console.error("Error resetting group overrides:",X)}},g=async()=>{try{await T()}catch(i){console.error("Error resetting overrides:",i)}},C={id:"reset-all-overrides",text:"Reset All Overrides",class:"btn btn-warning mr-2",handler:g,icon:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>'},l={id:"back-to-admin",text:"Back to Admin",class:"btn btn-ghost",handler:()=>{window.history.back()},icon:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>'},m=()=>{const i=[];r.value&&i.push(C),(o.value||r.value)&&i.push(l),c.set(i)};O([o,r],()=>m(),{immediate:!0});const v=V({}),D=i=>`${i.salesperson_id}-${i.customer_class}-${i.group_key}`,q=i=>i.divisions.reduce((R,j)=>(R.totalRatio+=j.effective_ratio||0,R.totalSales+=j.total_2025_sales||0,R.q1+=j.q1_allocated||0,R.q2+=j.q2_allocated||0,R.q3+=j.q3_allocated||0,R.q4+=j.q4_allocated||0,R.grandTotal+=j.total_allocated||0,R),{totalRatio:0,totalSales:0,q1:0,q2:0,q3:0,q4:0,grandTotal:0}),Q=S(()=>!u.value||u.value.length===0?[]:u.value.map(i=>({key:D(i),group:i,summary:q(i),label:`${i.customer_class} > ${i.salesperson_name} > ${i.display_key}`}))),L=i=>{v[i]=!v[i]},P=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(i||0),w=i=>`${((i||0)*100).toFixed(1)}%`;H(()=>{m(),a()}),I(()=>c.clear());const E={navActions:c,loading:t,error:_,groupedData:u,fetchDivisionData:a,saveRatios:k,resetGroupOverrides:x,resetAllOverrides:T,authStore:s,adminStatus:o,superadminStatus:r,handleSaveRatios:h,handleResetGroup:A,handleResetAll:g,resetAllAction:C,backAction:l,updateNavActions:m,expandedGroups:v,makeGroupKey:D,computeSummary:q,groupRows:Q,toggleGroup:L,formatCurrency:P,formatPercent:w,onMounted:H,onUnmounted:I,inject:z,computed:S,reactive:V,watch:O,get storeToRefs(){return $},get useDivisionData(){return J},DivisionGroupCard:Xt,LoadingError:Y,get useAuthStore(){return M}};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}},Zt={class:"p-6 space-y-6"},Kt={key:0,class:"space-y-6"},te={class:"stats shadow mb-6"},ee={class:"stat"},oe={class:"stat-value text-primary"},se={class:"stat"},ae={class:"stat-value text-secondary"},re={class:"stat"},ne={class:"stat-value text-accent"},le={class:"overflow-x-auto"},ie={class:"table table-zebra w-full"},ce=["onClick"],de={class:"font-semibold"},ue={class:"text-xs opacity-70"},_e={class:"text-right font-mono"},he={class:"text-right font-mono"},ge={class:"text-right font-mono"},me={class:"text-right font-mono"},ve={class:"text-right font-mono"},fe={class:"text-right font-mono"},pe={class:"text-right font-mono font-semibold"},ye={key:0},ke={colspan:"100%"},be={key:1,class:"alert alert-info"};function xe(b,n,c,t,_,u){return y(),p("div",Zt,[f(" Header "),f(` <div class="hero bg-base-200 rounded-lg">
            <div class="hero-content text-center">
                <div class="max-w-4xl">
                    <h1 class="text-5xl font-bold">Division Ratio Management</h1>
                    <p class="py-6">
                        Adjust division ratios for budget allocation. Use sliders to modify ratios and lock divisions to prevent changes.
                    </p>
                </div>
            </div>
        </div> `),f(" Loading and Error States "),F(t.LoadingError,{loading:t.loading,error:t.error,onRetry:t.fetchDivisionData},null,8,["loading","error","onRetry"]),f(" Division Groups "),!t.loading&&!t.error&&t.groupRows.length>0?(y(),p("div",Kt,[e("div",te,[n[3]||(n[3]=e("div",{class:"stat"},[e("div",{class:"stat-title"},"Module"),e("div",{class:"stat-value text-primary"}," Division Ratio Management ")],-1)),e("div",ee,[n[0]||(n[0]=e("div",{class:"stat-title"},"Total Groups",-1)),e("div",oe,d(t.groupedData.length),1)]),e("div",se,[n[1]||(n[1]=e("div",{class:"stat-title"},"Groups with Custom Ratios",-1)),e("div",ae,d(t.groupedData.filter(a=>a.hasCustomRatios).length),1)]),e("div",re,[n[2]||(n[2]=e("div",{class:"stat-title"},"Total Divisions",-1)),e("div",ne,d(t.groupedData.reduce((a,k)=>a+k.divisions.length,0)),1)])]),e("div",le,[e("table",ie,[n[4]||(n[4]=e("thead",null,[e("tr",null,[e("th",{class:"w-20"},"Action"),e("th",null,"Group"),e("th",{class:"text-right"},"Total Ratio"),e("th",{class:"text-right"},"Total Sales"),e("th",{class:"text-right"},"Q1 Budget"),e("th",{class:"text-right"},"Q2 Budget"),e("th",{class:"text-right"},"Q3 Budget"),e("th",{class:"text-right"},"Q4 Budget"),e("th",{class:"text-right"},"Grand Total")])],-1)),e("tbody",null,[(y(!0),p(U,null,W(t.groupRows,a=>(y(),p(U,{key:a.key},[e("tr",null,[e("td",null,[e("button",{class:"btn btn-outline btn-xs",type:"button",onClick:k=>t.toggleGroup(a.key)},d(t.expandedGroups[a.key]?"Collapse":"Expand"),9,ce)]),e("td",null,[e("div",de,d(a.group.display_key),1),e("div",ue,d(a.group.customer_class)+" • "+d(a.group.salesperson_name),1)]),e("td",_e,d(t.formatPercent(a.summary.totalRatio)),1),e("td",he,d(t.formatCurrency(a.summary.totalSales)),1),e("td",ge,d(t.formatCurrency(a.summary.q1)),1),e("td",me,d(t.formatCurrency(a.summary.q2)),1),e("td",ve,d(t.formatCurrency(a.summary.q3)),1),e("td",fe,d(t.formatCurrency(a.summary.q4)),1),e("td",pe,d(t.formatCurrency(a.summary.grandTotal)),1)]),t.expandedGroups[a.key]?(y(),p("tr",ye,[f(" <td></td> "),e("td",ke,[F(t.DivisionGroupCard,{group:a.group,onSaveRatios:t.handleSaveRatios,onResetGroup:t.handleResetGroup,onCollapse:k=>t.toggleGroup(a.key)},null,8,["group","onCollapse"])])])):f("v-if",!0)],64))),128))])])])])):f("v-if",!0),f(" No Data State "),!t.loading&&!t.error&&t.groupedData.length===0?(y(),p("div",be,[...n[5]||(n[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("span",null,"No division data available. Please check your data sources.",-1)])])):f("v-if",!0)])}const Ce=B(Yt,[["render",xe],["__file","G:/ProjectsPARA/Projects/budget-2026/frontend/src/views/DivisionView.vue"]]);export{Ce as default};
