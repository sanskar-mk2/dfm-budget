import{b as d,h as u,g as i,f as n,t as b}from"./index-BXnBpA7T.js";const c={key:0,class:"flex flex-col items-center justify-center py-20"},y={key:1,class:"alert alert-error flex flex-col items-center text-center"},m={class:"text-sm mb-4"},p={__name:"LoadingError",props:{loading:{type:Boolean,required:!0},error:{type:String,default:null}},emits:["retry"],setup(e){return(r,l)=>e.loading?(i(),d("div",c,[...l[1]||(l[1]=[n("span",{class:"loading loading-spinner loading-lg text-primary"},null,-1),n("p",{class:"mt-4 text-base text-gray-600 dark:text-gray-300"}," Loading admin summary... ",-1)])])):e.error?(i(),d("div",y,[l[2]||(l[2]=n("h3",{class:"font-bold text-lg"},"Error loading data",-1)),n("p",m,b(e.error),1),n("button",{class:"btn btn-sm btn-error",onClick:l[0]||(l[0]=o=>r.$emit("retry"))}," Retry ")])):u("",!0)}};function k(e,r){if(!e||e.length===0)return"";const l=r.map(s=>`"${s.label}"`).join(","),o=e.map(s=>r.map(t=>{const a=s[t.key];return a==null?'""':`"${String(a).replace(/"/g,'""')}"`}).join(","));return[l,...o].join(`
`)}function f(e,r,l){const o=k(e,r),s=new Blob([o],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");if(t.download!==void 0){const a=URL.createObjectURL(s);t.setAttribute("href",a),t.setAttribute("download",l),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a)}}function _(e){return e==null||isNaN(e)?"0.00":parseFloat(e).toFixed(2)}function S(e,r=!1){const l=[{key:"salesperson_name",label:"Salesperson Name"},{key:"salesperson_id",label:"Salesperson ID"},{key:"role",label:"Role"}];return r?l.push({key:"brand",label:"Brand"},{key:"flag",label:"Flag"},{key:"derived_customer_class",label:"Customer Class"},{key:"customer_name",label:"Customer Name"}):e?l.push({key:"brand",label:"Brand"},{key:"flag",label:"Flag"}):l.push({key:"derived_customer_class",label:"Customer Class"},{key:"customer_name",label:"Customer Name"}),l.push({key:"q1_sales",label:"Q1 Sales"},{key:"q2_sales",label:"Q2 Sales"},{key:"q3_sales",label:"Q3 Sales"},{key:"q4_sales",label:"Q4 Sales"},{key:"q4_orders",label:"Q4 Orders"},{key:"total_sales",label:"Total Sales"},{key:"zero_perc_sales_total",label:"Zero % Sales"},{key:"zero_perc_sales_percent",label:"Zero % %"},{key:"open_2026",label:"2026 Open"},{key:"q1_budget",label:"Q1 Budget"},{key:"q2_budget",label:"Q2 Budget"},{key:"q3_budget",label:"Q3 Budget"},{key:"q4_budget",label:"Q4 Budget"},{key:"growth_percent",label:"Growth"}),l}export{p as _,f as d,_ as f,S as g};
